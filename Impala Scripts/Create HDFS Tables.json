[
{
  "pk": 352, 
  "model": "desktop.document2", 
  "fields": {
    "search": "SELECT creation_date,\n    AVG(bytes_upstream) as avg_upstream,\n    AVG(bytes_downstream) as avg_downstream\nFROM daily_ipdr_traffic_hdfs_parquet_gzip\nWHERE creation_date_pk='2017-10-15' \n    AND cmtsdevice = 'dx10sj.wp'\nGROUP BY creation_date\nORDER BY avg_upstream DESC", 
    "uuid": "f2ae8411-7ef5-3b77-bf03-afd3a41b9080", 
    "extra": "", 
    "type": "query-impala", 
    "description": "", 
    "is_history": false, 
    "parent_directory": [
      "6580c0fd-4fae-4454-83e6-f94235c6c18c", 
      1, 
      false
    ], 
    "is_managed": false, 
    "last_modified": "2017-11-22T08:47:18.465", 
    "version": 1, 
    "owner": [
      "ec2-user"
    ], 
    "dependencies": [], 
    "data": "{\"loadingHistory\": false, \"schedulerViewModel\": null, \"retryModalCancel\": null, \"schedulerViewModelIsLoaded\": false, \"historyTotalPages\": 3, \"id\": 352, \"snippets\": [{\"wasBatchExecuted\": false, \"chartLimits\": [5, 10, 25, 50, 100], \"associatedDocumentLoading\": true, \"isReady\": true, \"statement_raw\": \"/* Create a new table stored as csv */\\nDROP TABLE IF EXISTS daily_ipdr_traffic_hdfs_csv;\\nCREATE TABLE IF NOT EXISTS daily_ipdr_traffic_hdfs_csv\\n    LIKE daily_ipdr_traffic_csv;\\n\\n/* Load data into parquet format */\\nSET COMPRESSION_CODEC=none;\\nINSERT INTO daily_ipdr_traffic_hdfs_csv PARTITION (creation_date_pk)\\nSELECT * FROM daily_ipdr_traffic_csv;\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_csv;\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_csv;\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_csv;\\n\\n/* Create a new table stored as parquet */\\nDROP TABLE IF EXISTS daily_ipdr_traffic_hdfs_parquet;\\nCREATE TABLE IF NOT EXISTS daily_ipdr_traffic_hdfs_parquet\\n    LIKE daily_ipdr_traffic_csv\\n    STORED AS PARQUET;\\n\\n/* Load data into parquet format */\\nSET COMPRESSION_CODEC=none;\\nINSERT INTO daily_ipdr_traffic_hdfs_parquet PARTITION (creation_date_pk)\\nSELECT * FROM daily_ipdr_traffic_csv;\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_parquet;\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_parquet;\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_parquet;\\n\\n/* Create a new table stored as parquet with snappy compression */\\nDROP TABLE IF EXISTS daily_ipdr_traffic_hdfs_parquet_snappy;\\nCREATE TABLE IF NOT EXISTS daily_ipdr_traffic_hdfs_parquet_snappy\\n    LIKE daily_ipdr_traffic_csv\\n    STORED AS PARQUET;\\n\\n/* Load data into parquet format with snappy compression */\\nSET COMPRESSION_CODEC=snappy;\\nINSERT INTO daily_ipdr_traffic_hdfs_parquet_snappy PARTITION (creation_date_pk)\\nSELECT * FROM daily_ipdr_traffic_csv;\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_parquet_snappy;\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_parquet_snappy;\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_parquet_snappy;\\n\\n/* Create a new table stored as parquet with gzip compression */\\nDROP TABLE IF EXISTS daily_ipdr_traffic_hdfs_parquet_gzip;\\nCREATE TABLE IF NOT EXISTS daily_ipdr_traffic_hdfs_parquet_gzip\\n    LIKE daily_ipdr_traffic_csv\\n    STORED AS PARQUET;\\n\\n/* Load data into parquet format */\\nSET COMPRESSION_CODEC=gzip;\\nINSERT INTO daily_ipdr_traffic_hdfs_parquet_gzip PARTITION (creation_date_pk)\\nSELECT * FROM daily_ipdr_traffic_csv;\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_parquet_gzip;\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_parquet_gzip;\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_parquet_gzip;\\n\\n/* Sample Query */\\nSELECT creation_date,\\n    AVG(bytes_upstream) as avg_upstream,\\n    AVG(bytes_downstream) as avg_downstream\\nFROM daily_ipdr_traffic_hdfs_parquet_gzip\\nWHERE creation_date_pk='2017-10-15' \\n    AND cmtsdevice = 'dx10sj.wp'\\nGROUP BY creation_date\\nORDER BY avg_upstream DESC;\", \"statusForButtons\": \"executed\", \"showLogs\": false, \"variableNames\": [], \"associatedDocumentUuid\": null, \"compatibilitySourcePlatform\": \"impala\", \"chartLimit\": null, \"progress\": 0, \"chartType\": \"bars\", \"isFetchingData\": false, \"name\": \"\", \"statementTypes\": [\"text\", \"file\"], \"is_redacted\": false, \"currentQueryTab\": \"savedQueries\", \"chartScope\": \"world\", \"result\": {\"statement_id\": 0, \"isMetaFilterVisible\": false, \"meta\": [], \"logLines\": 0, \"id\": \"81428b85-f81f-5876-8569-50bbaef33a59\", \"logs\": \"\", \"statements_count\": 1, \"rows\": 1, \"hasSomeResults\": false, \"filteredMetaChecked\": true, \"hasMore\": false, \"filteredMeta\": [], \"type\": \"table\", \"handle\": {\"log_context\": null, \"statements_count\": 1, \"end\": {\"column\": 267, \"row\": 0}, \"statement_id\": 0, \"has_more_statements\": false, \"start\": {\"column\": 0, \"row\": 0}, \"secret\": \"mrQQMqEJTKgAAAAAUsoQOw==\\n\", \"has_result_set\": true, \"session_guid\": \"ImDEuU+gTsqbgxrfnk5dcA==\\n\", \"statement\": \"SELECT creation_date,\\n    AVG(bytes_upstream) as avg_upstream,\\n    AVG(bytes_downstream) as avg_downstream\\nFROM daily_ipdr_traffic_hdfs_parquet_gzip\\nWHERE creation_date_pk='2017-10-15' \\n    AND cmtsdevice = 'dx10sj.wp'\\nGROUP BY creation_date\\nORDER BY avg_upstream DESC\", \"operation_type\": 0, \"modified_row_count\": null, \"guid\": \"mrQQMqEJTKgAAAAAUsoQOw==\\n\", \"previous_statement_hash\": \"0073d690240e1e8592dab867a3ac7433aac21e19fc6b3d28d4525698\"}, \"metaFilter\": \"\", \"explanation\": \"\", \"statement_range\": {\"start\": {\"column\": 0, \"row\": 0}, \"end\": {\"column\": 0, \"row\": 0}}, \"startTime\": \"2017-11-16T16:44:44.309Z\", \"data\": [], \"previous_statement_hash\": null, \"executionTime\": 372, \"fetchedOnce\": false, \"hasResultset\": true, \"endTime\": \"2017-11-16T16:44:44.681Z\"}, \"errors\": [], \"chartMapHeat\": null, \"compatibilitySourcePlatforms\": [{\"name\": \"Teradata\", \"value\": \"teradata\"}, {\"name\": \"Oracle\", \"value\": \"oracle\"}, {\"name\": \"Netezza\", \"value\": \"netezza\"}, {\"name\": \"Impala\", \"value\": \"impala\"}, {\"name\": \"Hive\", \"value\": \"hive\"}, {\"name\": \"DB2\", \"value\": \"db2\"}, {\"name\": \"Greenplum\", \"value\": \"greenplum\"}, {\"name\": \"MySQL\", \"value\": \"mysql\"}, {\"name\": \"PostgreSQL\", \"value\": \"postgresql\"}, {\"name\": \"Informix\", \"value\": \"informix\"}, {\"name\": \"SQL Server\", \"value\": \"sqlserver\"}, {\"name\": \"Sybase\", \"value\": \"sybase\"}, {\"name\": \"Access\", \"value\": \"access\"}, {\"name\": \"Firebird\", \"value\": \"firebird\"}, {\"name\": \"ANSISQL\", \"value\": \"ansisql\"}, {\"name\": \"Generic\", \"value\": \"generic\"}], \"aceErrorsHolder\": [], \"showOptimizer\": false, \"compatibilityTargetPlatform\": \"impala\", \"jobs\": [], \"statementType\": \"text\", \"variableValues\": {}, \"isCanceling\": false, \"queriesTotalPages\": 1, \"formatEnabled\": true, \"properties\": {\"settings\": []}, \"aceErrors\": [], \"externalStatementLoaded\": false, \"chartScatterSize\": null, \"chartYSingle\": null, \"suggestion\": \"\", \"statementPath\": \"\", \"showLongOperationWarning\": false, \"chartX\": null, \"lastExecuted\": 1510850684301, \"variables\": [], \"showChart\": false, \"isResultSettingsVisible\": false, \"showGrid\": true, \"pinnedContextTabs\": [], \"viewSettings\": {\"sqlDialect\": true, \"placeHolder\": \"Example: SELECT * FROM tablename, or press CTRL + space\"}, \"statementsList\": [\"\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_parquet_snappy;\", \"\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_parquet_snappy;\", \"\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_parquet_snappy;\", \"\\n\\n/* Create a new table stored as parquet with gzip compression */\\nDROP TABLE IF EXISTS daily_ipdr_traffic_hdfs_parquet_gzip;\", \"\\nCREATE TABLE IF NOT EXISTS daily_ipdr_traffic_hdfs_parquet_gzip\\n    LIKE daily_ipdr_traffic_csv\\n    STORED AS PARQUET;\", \"\\n\\n/* Load data into parquet format */\\nSET COMPRESSION_CODEC=gzip;\", \"\\nINSERT INTO daily_ipdr_traffic_hdfs_parquet_gzip PARTITION (creation_date_pk)\\nSELECT * FROM daily_ipdr_traffic_csv;\", \"\\n\\n/* Refresh and stats */\\nREFRESH daily_ipdr_traffic_hdfs_parquet_gzip;\", \"\\nCOMPUTE STATS daily_ipdr_traffic_hdfs_parquet_gzip;\", \"\\nSHOW TABLE STATS daily_ipdr_traffic_hdfs_parquet_gzip;\", \"\\n\\n/* Sample Query */\\nSELECT creation_date,\\n    AVG(bytes_upstream) as avg_upstream,\\n    AVG(bytes_downstream) as avg_downstream\\nFROM daily_ipdr_traffic_hdfs_parquet_gzip\\nWHERE creation_date_pk='2017-10-15' \\n    AND cmtsdevice = 'dx10sj.wp'\\nGROUP BY creation_date\\nORDER BY avg_upstream DESC;\"], \"lastAceSelectionRowOffset\": 63, \"executingBlockingOperation\": null, \"errorsKlass\": \"results impala alert alert-error\", \"statement\": \"\\n\\n/* Sample Query */\\nSELECT creation_date,\\n    AVG(bytes_upstream) as avg_upstream,\\n    AVG(bytes_downstream) as avg_downstream\\nFROM daily_ipdr_traffic_hdfs_parquet_gzip\\nWHERE creation_date_pk='2017-10-15' \\n    AND cmtsdevice = 'dx10sj.wp'\\nGROUP BY creation_date\\nORDER BY avg_upstream DESC;\", \"type\": \"impala\", \"chartSorting\": \"none\", \"previousChartOptions\": {\"chartTimelineType\": \"bar\", \"chartSorting\": \"none\", \"chartLimit\": null, \"chartMapHeat\": null, \"chartX\": null, \"chartMapType\": \"marker\", \"chartYMulti\": [\"avg_downstream\"], \"chartScatterSize\": null, \"chartScope\": \"world\", \"chartMapLabel\": null, \"chartScatterGroup\": null, \"chartYSingle\": null, \"chartXPivot\": null}, \"aceWarningsHolder\": [], \"resultsKlass\": \"results impala\", \"chartTimelineType\": \"bar\", \"compatibilityTargetPlatforms\": [{\"name\": \"Impala\", \"value\": \"impala\"}, {\"name\": \"Hive\", \"value\": \"hive\"}], \"topRisk\": null, \"hasCurlyBracketParameters\": true, \"chartScatterGroup\": null, \"settingsVisible\": false, \"queriesFilterVisible\": false, \"aceWarnings\": [], \"compatibilityCheckRunning\": false, \"isLoading\": false, \"loadingQueries\": false, \"hasDataForChart\": false, \"id\": \"f102d73b-3ecf-9584-cf99-0a1c3db180dc\", \"aceSize\": 100, \"chartData\": [], \"queriesHasErrors\": false, \"chartMapLabel\": null, \"status\": \"expired\", \"isSqlDialect\": true, \"chartMapType\": \"marker\", \"queriesFilter\": \"\", \"queriesCurrentPage\": 1, \"isBatchable\": true, \"chartYMulti\": [\"avg_downstream\"], \"dbSelectionVisible\": false, \"database\": \"shaw\", \"hasSuggestion\": null, \"chartXPivot\": null, \"checkStatusTimeout\": null}], \"uuid\": \"f2ae8411-7ef5-3b77-bf03-afd3a41b9080\", \"onSuccessUrl\": null, \"is_history\": false, \"historyFilterVisible\": false, \"retryModalConfirm\": null, \"selectedSnippet\": \"impala\", \"type\": \"query-impala\", \"historyFilter\": \"\", \"description\": \"\", \"sessions\": [{\"id\": 8, \"type\": \"impala\", \"properties\": [{\"multiple\": true, \"defaultValue\": [], \"value\": [], \"nice_name\": \"Settings\", \"key\": \"settings\", \"help_text\": \"Impala configuration properties.\", \"type\": \"settings\", \"options\": [\"debug_action\", \"explain_level\", \"mem_limit\", \"optimize_partition_key_scans\", \"query_timeout_s\", \"request_pool\"]}], \"http_addr\": \"http://ip-10-0-0-106.us-west-2.compute.internal:25000\"}], \"updateHistoryFailed\": false, \"isSaved\": true, \"presentationSnippets\": {}, \"isBatchable\": true, \"isHistory\": false, \"coordinatorUuid\": null, \"name\": \"Create HDFS Tables\", \"isManaged\": false, \"loadingScheduler\": false, \"parentSavedQueryUuid\": null, \"viewSchedulerId\": \"\", \"historyCurrentPage\": 1, \"creatingSessionLocks\": [], \"directoryUuid\": \"\", \"unloaded\": false, \"dependentsCoordinator\": []}", 
    "is_trashed": false, 
    "name": "Create HDFS Tables"
  }
}
]
